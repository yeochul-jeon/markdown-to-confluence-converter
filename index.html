<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Markdown to Confluence Converter</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
<script>
  (function() {
    var t = localStorage.getItem('theme');
    if (t === 'dark' || (!t && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      document.body.classList.add('dark-theme');
    }
  })();
</script>

  <!-- Header -->
  <header class="header">
    <div class="header__content">
      <h1 class="header__title">Markdown â†’ Confluence Converter</h1>
      <p class="header__desc">ë§ˆí¬ë‹¤ìš´ì„ Confluence ìœ„í‚¤ ë§ˆí¬ì—…ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤</p>
    </div>
    <button id="theme-toggle" class="theme-toggle" title="í…Œë§ˆ ì „í™˜" aria-label="í…Œë§ˆ ì „í™˜">
      <span class="theme-toggle__icon theme-toggle__icon--light">â˜€ï¸</span>
      <span class="theme-toggle__icon theme-toggle__icon--dark">ğŸŒ™</span>
    </button>
  </header>

  <!-- Converter -->
  <main class="converter">
    <!-- Left Panel: Input -->
    <section class="panel panel--input">
      <div class="panel__header">
        <h2 class="panel__title">Markdown</h2>
        <div class="tab-group">
          <button class="tab tab--active" data-tab="text">í…ìŠ¤íŠ¸ ì…ë ¥</button>
          <button class="tab" data-tab="file">íŒŒì¼ ì—…ë¡œë“œ</button>
        </div>
      </div>
      <div class="panel__body">
        <!-- Text Input Tab -->
        <div class="tab-content tab-content--active" data-tab-content="text">
          <textarea id="markdown-input" class="editor" placeholder="ì—¬ê¸°ì— ë§ˆí¬ë‹¤ìš´ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
        </div>
        <!-- File Upload Tab -->
        <div class="tab-content" data-tab-content="file">
          <div id="drop-zone" class="drop-zone">
            <div class="drop-zone__icon">&#128196;</div>
            <p class="drop-zone__text">íŒŒì¼ì„ ë“œë˜ê·¸í•˜ì—¬ ë†“ê±°ë‚˜ í´ë¦­í•˜ì—¬ ì„ íƒí•˜ì„¸ìš”</p>
            <p class="drop-zone__hint">.md, .markdown, .txt (ìµœëŒ€ 1MB)</p>
            <input type="file" id="file-input" class="drop-zone__input" accept=".md,.markdown,.txt">
          </div>
          <div id="file-info" class="file-info hidden">
            <span id="file-name" class="file-info__name"></span>
            <button id="file-remove" class="file-info__remove" title="íŒŒì¼ ì œê±°">&times;</button>
          </div>
        </div>
      </div>
      <div class="panel__footer">
        <button id="btn-clear" class="btn btn--secondary">Clear</button>
      </div>
    </section>

    <!-- Right Panel: Output -->
    <section class="panel panel--output">
      <div class="panel__header">
        <h2 class="panel__title">Confluence Wiki Markup</h2>
      </div>
      <div class="panel__body">
        <textarea id="confluence-output" class="editor" readonly placeholder="ë³€í™˜ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤..."></textarea>
      </div>
      <div class="panel__footer">
        <div class="theme-select">
          <label class="theme-select__label" for="code-theme">Code Theme</label>
          <select id="code-theme" class="theme-select__dropdown">
            <option value="" selected>Default</option>
            <option value="DJango">DJango</option>
            <option value="Emacs">Emacs</option>
            <option value="FadeToGrey">FadeToGrey</option>
            <option value="Midnight">Midnight</option>
            <option value="RDark">RDark</option>
            <option value="Eclipse">Eclipse</option>
            <option value="Confluence">Confluence</option>
          </select>
        </div>
        <button id="btn-copy" class="btn btn--primary">Copy</button>
        <button id="btn-download" class="btn btn--secondary">Download</button>
      </div>
    </section>
  </main>

  <!-- Templates -->
  <section class="templates">
    <h2 class="templates__title">Templates</h2>
    <div id="template-grid" class="template-grid"></div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <p>Built with <a href="https://marked.js.org/" target="_blank" rel="noopener">marked.js</a></p>
  </footer>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="js/converter.js"></script>
  <script src="js/templates.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
